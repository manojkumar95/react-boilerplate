webpackJsonp([3],{382:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l,u,d,o,i=r(63),s=a(i),f=r(13),c=a(f),m=r(64),p=a(m),g=r(14),v=a(g),E=r(15),h=a(E),b=r(0),w=a(b),y=r(2),_=a(y),C=r(221),N=a(C),x=r(142),S=r(21),k=r(973),O=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(k),M=r(989),R=a(M),T=O.isLoaded,j=O.load,q=(n=(0,x.provideHooks)({defer:function(e){var t=e.store,r=t.dispatch,a=t.getState;if((0,t.inject)({widgets:O.default}),!T(a()))return r(j()).catch(function(){return null})}}),l=(0,S.connect)(function(e){return{widgets:e.widgets.data,editing:e.widgets.editing,error:e.widgets.error,loading:e.widgets.loading}},O),n(u=l((o=d=function(e){function t(){return(0,c.default)(this,t),(0,v.default)(this,(t.__proto__||(0,s.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,p.default)(t,[{key:"render",value:function(){var e=this,t=function(t){var r=e.props.editStart;return function(){return r(String(t.id))}},a=this.props,n=a.widgets,l=a.error,u=a.editing,d=a.loading,o=a.load,i=r(974);return w.default.createElement("div",{className:i.widgets+" container"},w.default.createElement("h1",null,"Widgets",w.default.createElement("button",{className:i.refreshBtn+" btn btn-success",onClick:o},w.default.createElement("i",{className:"fa fa-refresh "+(d?" fa-spin":"")})," Reload Widgets")),w.default.createElement(N.default,{title:"Widgets"}),w.default.createElement("p",null,"If you hit 'Refresh' on your browser, the data loading will take place on the browser after the page is returned. If you navigated here from another page, the data was fetched from the client after the route transition. This uses the decorator method ",w.default.createElement("code",null,"@provideHooks")," with the ",w.default.createElement("code",null,"defer")," key. To block a route transition until some data is loaded, use the ",w.default.createElement("code",null,"fetch")," key. To always render before loading data, even on the server, use ",w.default.createElement("code",null,"componentWillMount"),"."),w.default.createElement("p",null,"This widgets are stored in your session, so feel free to edit it and refresh."),l&&w.default.createElement("div",{className:"alert alert-danger",role:"alert"},w.default.createElement("span",{className:"glyphicon glyphicon-exclamation-sign","aria-hidden":"true"})," ",l),n&&n.length&&w.default.createElement("table",{className:"table table-striped"},w.default.createElement("thead",null,w.default.createElement("tr",null,w.default.createElement("th",{className:i.idCol},"ID"),w.default.createElement("th",{className:i.colorCol},"Color"),w.default.createElement("th",{className:i.sprocketsCol},"Sprockets"),w.default.createElement("th",{className:i.ownerCol},"Owner"),w.default.createElement("th",{className:i.buttonCol}))),w.default.createElement("tbody",null,n.map(function(e){return u[e.id]?w.default.createElement(R.default,{form:String(e.id),key:String(e.id),initialValues:e}):w.default.createElement("tr",{key:e.id},w.default.createElement("td",{className:i.idCol},e.id),w.default.createElement("td",{className:i.colorCol},e.color),w.default.createElement("td",{className:i.sprocketsCol},e.sprocketCount),w.default.createElement("td",{className:i.ownerCol},e.owner),w.default.createElement("td",{className:i.buttonCol},w.default.createElement("button",{className:"btn btn-primary",onClick:t(e)},w.default.createElement("i",{className:"fa fa-pencil"})," Edit")))}))))}}]),t}(b.Component),d.propTypes={widgets:_.default.arrayOf(_.default.object),error:_.default.string,loading:_.default.bool,editing:_.default.objectOf(_.default.bool).isRequired,load:_.default.func.isRequired,editStart:_.default.func.isRequired},d.defaultProps={widgets:null,error:null,loading:!1},u=o))||u)||u);t.default=q,e.exports=t.default},962:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(e){if(!h(e)&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e))return"Invalid email address"}function l(e){if(h(e))return"Required"}function u(e){return function(t){if(!h(t)&&t.length<e)return"Must be at least "+e+" characters"}}function d(e){return function(t){if(!h(t)&&t.length>e)return"Must be no more than "+e+" characters"}}function o(e){if(!h(e)&&!(0,E.default)(Number(e)))return"Must be an integer"}function i(e){return function(t){if(!e.includes(t))return"Must be one of: "+e.join(", ")}}function s(e){return function(t,r){if(r&&t!==r[e])return"Do not match"}}function f(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a={};return(0,g.default)(e).forEach(function(n){var l=b([].concat(e[n])),u=l(r[n],r,(0,m.default)({key:n},t));u&&(a[n]=u)}),a}}Object.defineProperty(t,"__esModule",{value:!0});var c=r(8),m=a(c),p=r(143),g=a(p),v=r(963),E=a(v);t.email=n,t.required=l,t.minLength=u,t.maxLength=d,t.integer=o,t.oneOf=i,t.match=s,t.createValidator=f;var h=function(e){return void 0===e||null===e||""===e},b=function(e){return function(t,r,a){return e.map(function(e){return e(t,r,a)}).filter(function(e){return!!e})[0]}}},963:function(e,t,r){e.exports={default:r(964),__esModule:!0}},964:function(e,t,r){r(965),e.exports=r(9).Number.isInteger},965:function(e,t,r){var a=r(22);a(a.S,"Number",{isInteger:r(966)})},966:function(e,t,r){var a=r(41),n=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&n(e)===e}},973:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case v:return(0,g.default)({},e,{loading:!0});case E:return(0,g.default)({},e,{loading:!1,loaded:!0,data:t.result,error:null});case h:return(0,g.default)({},e,{loading:!1,loaded:!1,data:null,error:"string"==typeof t.error?t.error:"Error"});case b:return(0,g.default)({},e,{editing:(0,g.default)({},e.editing,(0,m.default)({},t.id,!0))});case w:return(0,g.default)({},e,{editing:(0,g.default)({},e.editing,(0,m.default)({},t.id,!1))});case y:return e;case _:var r=[].concat((0,f.default)(e.data));return r[t.result.id-1]=t.result,(0,g.default)({},e,{data:r,editing:(0,g.default)({},e.editing,(0,m.default)({},t.id,!1)),saveError:(0,g.default)({},e.saveError,(0,m.default)({},t.id,null))});case C:return"string"==typeof t.error?(0,g.default)({},e,{saveError:(0,g.default)({},e.saveError,(0,m.default)({},t.id,t.error))}):e;default:return e}}function l(e){return e.widgets&&e.widgets.loaded}function u(){return{types:[v,E,h],promise:function(e){return e.client.get("/widget/load/param1/param2")}}}function d(e){return{types:[y,_,C],id:e.id,promise:function(t){return t.client.post("/widget/update",e)}}}function o(e){return{type:b,id:e}}function i(e){return{type:w,id:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(224),f=a(s),c=r(223),m=a(c),p=r(8),g=a(p);t.default=n,t.isLoaded=l,t.load=u,t.save=d,t.editStart=o,t.editStop=i;var v="redux-example/widgets/LOAD",E="redux-example/widgets/LOAD_SUCCESS",h="redux-example/widgets/LOAD_FAIL",b="redux-example/widgets/EDIT_START",w="redux-example/widgets/EDIT_STOP",y="redux-example/widgets/SAVE",_="redux-example/widgets/SAVE_SUCCESS",C="redux-example/widgets/SAVE_FAIL",N={loaded:!1,editing:{},saveError:{}}},974:function(e,t){e.exports={widgets:"_2Ob1oKk9VDybCCT9vePgw",refreshBtn:"_2dLMa5jmSZF10mlU7WRDeh",idCol:"_26SCl6RXT6BEiwoG0ot-D_",colorCol:"_3g0i5LfzP62sWwM0aSZ78k",sprocketsCol:"_2ymmxdYbcbV67bkd9vxX9o",ownerCol:"Mc4GrDZmGUfpCjdkJseLT",buttonCol:"_3afTKiWltR0AdHAmVeQGRO",saving:"_3Mz7T1mnCgbrpFaCURy6fQ"}},989:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,l,u,d,o,i=r(105),s=a(i),f=r(225),c=a(f),m=r(63),p=a(m),g=r(13),v=a(g),E=r(64),h=a(E),b=r(14),w=a(b),y=r(15),_=a(y),C=r(8),N=a(C),x=r(0),S=a(x),k=r(2),O=a(k),M=r(21),R=r(220),T=r(973),j=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(T),q=r(990),A=a(q),L=function(e){var t=e.input,r=e.className,a=e.meta,n=a.touched,l=a.error;return S.default.createElement("div",null,S.default.createElement("input",(0,N.default)({type:"text",className:r},t)),l&&n&&S.default.createElement("div",{className:"text-danger"},l))};L.propTypes=R.fieldPropTypes;var P=function(e){var t=e.options,r=e.input,a=e.className,n=e.meta,l=n.touched,u=n.error;return S.default.createElement("div",null,S.default.createElement("select",(0,N.default)({className:a},r),t.map(function(e){return S.default.createElement("option",{value:e,key:e},e)})),u&&l&&S.default.createElement("div",{className:"text-danger"},u))};P.propTypes=R.fieldPropTypes;var F=(n=(0,R.reduxForm)({form:"widget",validate:A.default}),l=(0,M.connect)(function(e,t){return{saveError:e.widgets.saveError,values:(0,R.getFormValues)(t.form)(e)}},(0,N.default)({},j)),n(u=l((o=d=function(e){function t(){return(0,v.default)(this,t),(0,w.default)(this,(t.__proto__||(0,p.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,h.default)(t,[{key:"render",value:function(){var e=this.props,t=e.editStop,a=e.form,n=e.handleSubmit,l=e.invalid,u=e.pristine,d=e.save,o=e.submitting,i=e.saveError[a],f=e.values,m=r(974);return S.default.createElement("tr",{className:o?m.saving:""},S.default.createElement("td",{className:m.idCol},f.id,S.default.createElement(R.Field,{name:"id",type:"hidden",component:"input"})),S.default.createElement("td",{className:m.colorCol},S.default.createElement(R.Field,{name:"color",className:"form-control",component:P,options:q.colors})),S.default.createElement("td",{className:m.sprocketsCol},S.default.createElement(R.Field,{name:"sprocketCount",className:"form-control",component:L})),S.default.createElement("td",{className:m.ownerCol},S.default.createElement(R.Field,{name:"owner",className:"form-control",component:L})),S.default.createElement("td",{className:m.buttonCol},S.default.createElement("button",{className:"btn btn-default",onClick:function(){return t(a)},disabled:o},S.default.createElement("i",{className:"fa fa-ban"})," Cancel"),S.default.createElement("button",{className:"btn btn-success",onClick:n(function(){return d(f).catch(function(e){if("object"===(void 0===e?"undefined":(0,c.default)(e)))throw new R.SubmissionError(e);return s.default.reject(e)})}),disabled:u||l||o},S.default.createElement("i",{className:"fa "+(o?"fa-cog fa-spin":"fa-cloud")})," Save"),i&&S.default.createElement("div",{className:"text-danger"},i)))}}]),t}(x.Component),d.propTypes={editStop:O.default.func.isRequired,handleSubmit:O.default.func.isRequired,invalid:O.default.bool.isRequired,pristine:O.default.bool.isRequired,save:O.default.func.isRequired,submitting:O.default.bool.isRequired,saveError:O.default.objectOf(O.default.any).isRequired,form:O.default.string.isRequired,values:O.default.objectOf(O.default.any).isRequired},u=o))||u)||u);t.default=F,e.exports=t.default},990:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.colors=void 0;var a=r(962),n=t.colors=["Blue","Fuchsia","Green","Orange","Red","Taupe"],l=(0,a.createValidator)({color:[a.required,(0,a.oneOf)(n)],sprocketCount:[a.required,a.integer],owner:[a.required,(0,a.maxLength)(30)]});t.default=l}});