webpackJsonp([5],{376:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,u,l,o,r=a(63),i=n(r),c=a(13),f=n(c),m=a(64),d=n(m),h=a(14),g=n(h),p=a(15),v=n(p),y=a(0),k=n(y),b=a(2),E=n(b),_=a(21),S=a(374),M=(s=(0,_.connect)(function(e){return{user:e.auth.user}}))((o=l=function(e){function t(){var e,a,n,s;(0,f.default)(this,t);for(var u=arguments.length,l=Array(u),o=0;o<u;o++)l[o]=arguments[o];return a=n=(0,g.default)(this,(e=t.__proto__||(0,i.default)(t)).call.apply(e,[this].concat(l))),n.state={message:"",messages:[]},n.onMessageReceived=function(e){var t=n.state.messages;t.push(e),n.setState({messages:t})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.user,a=n.state.message;n.setState({message:""}),S.socket.emit("msg",{from:t&&t.email||"Anonymous",text:a})},s=a,(0,g.default)(n,s)}return(0,v.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){S.socket.on("msg",this.onMessageReceived),setTimeout(function(){S.socket.emit("history",{offset:0,length:100})},100)}},{key:"componentWillUnmount",value:function(){S.socket.removeListener("msg",this.onMessageReceived)}},{key:"render",value:function(){var e=this,t=a(975);return k.default.createElement("div",{className:t.chat+" container"},k.default.createElement("h1",null,"Chat"),k.default.createElement("div",null,k.default.createElement("ul",null,this.state.messages.map(function(e){return k.default.createElement("li",{key:"chat.msg."+e.id},e.from,": ",e.text)})),k.default.createElement("form",{onSubmit:this.handleSubmit},k.default.createElement("input",{type:"text",ref:function(t){e.message=t},placeholder:"Enter your message",value:this.state.message,onChange:function(t){e.setState({message:t.target.value})}}),k.default.createElement("button",{className:"btn",onClick:this.handleSubmit},"Send"))))}}]),t}(y.Component),l.propTypes={user:E.default.shape({email:E.default.string})},l.defaultProps={user:null},u=o))||u;t.default=M,e.exports=t.default},975:function(e,t){e.exports={chat:"_3B-VCdBgaXmb71jg6f8aNZ"}}});